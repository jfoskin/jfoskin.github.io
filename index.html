<!DOCTYPE html>
<html>

<head>
    <title>Home Questionnaire<span id="selection-marker-1" class="redactor-selection-marker"></span></title>

    <!--Placeholder for Segment Snippet -->
    <script>
        !function () {
            var analytics = window.analytics = window.analytics || []; if (!analytics.initialize) if (analytics.invoked) window.console && console.error && console.error("Segment snippet included twice."); else {
                analytics.invoked = !0; analytics.methods = ["trackSubmit", "trackClick", "trackLink", "trackForm", "pageview", "identify", "reset", "group", "track", "ready", "alias", "debug", "page", "once", "off", "on", "addSourceMiddleware", "addIntegrationMiddleware", "setAnonymousId", "addDestinationMiddleware"]; analytics.factory = function (e) { return function () { if (window.analytics.initialized) return window.analytics[e].apply(window.analytics, arguments); var i = Array.prototype.slice.call(arguments); i.unshift(e); analytics.push(i); return analytics } }; for (var i = 0; i < analytics.methods.length; i++) { var key = analytics.methods[i]; analytics[key] = analytics.factory(key) } analytics.load = function (key, i) { var t = document.createElement("script"); t.type = "text/javascript"; t.async = !0; t.src = "https://cdn.segment.com/analytics.js/v1/" + key + "/analytics.min.js"; var n = document.getElementsByTagName("script")[0]; n.parentNode.insertBefore(t, n); analytics._loadOptions = i }; analytics._writeKey = "Fa8SM2H34Uv4ToIGJL5L4h9rlYlV925v";; analytics.SNIPPET_VERSION = "4.16.1";
                analytics.load("QDNoq4Cl0qDTHPBqfhFxkCWXVhTKvGbm");
                //GTM does load without call page.
                analytics.page();
            }
        }();
    </script>
    <!--VWO Native integration for VWO cloud (remove after testing) -->
    <link rel="preconnect" href="https://dev.visualwebsiteoptimizer.com" />
    <script type='text/javascript' id='vwoCode'>
        window._vwo_code || (function () {
            var account_id = 753536,
                version = 2.0,
                settings_tolerance = 2000,
                hide_element = 'body',
                hide_element_style = 'opacity:0 !important;filter:alpha(opacity=0) !important;background:none !important',
                /* DO NOT EDIT BELOW THIS LINE */
                f = false, w = window, d = document, v = d.querySelector('#vwoCode'), cK = '_vwo_' + account_id + '_settings', cc = {}; try { var c = JSON.parse(localStorage.getItem('_vwo_' + account_id + '_config')); cc = c && typeof c === 'object' ? c : {} } catch (e) { } var stT = cc.stT === 'session' ? w.sessionStorage : w.localStorage; code = { use_existing_jquery: function () { return typeof use_existing_jquery !== 'undefined' ? use_existing_jquery : undefined }, library_tolerance: function () { return typeof library_tolerance !== 'undefined' ? library_tolerance : undefined }, settings_tolerance: function () { return cc.sT || settings_tolerance }, hide_element_style: function () { return '{' + (cc.hES || hide_element_style) + '}' }, hide_element: function () { return typeof cc.hE === 'string' ? cc.hE : hide_element }, getVersion: function () { return version }, finish: function () { if (!f) { f = true; var e = d.getElementById('_vis_opt_path_hides'); if (e) e.parentNode.removeChild(e) } }, finished: function () { return f }, load: function (e) { var t = this.getSettings(), n = d.createElement('script'), i = this; if (t) { n.textContent = t; d.getElementsByTagName('head')[0].appendChild(n); if (!w.VWO || VWO.caE) { stT.removeItem(cK); i.load(e) } } else { n.fetchPriority = 'high'; n.src = e; n.type = 'text/javascript'; n.onerror = function () { _vwo_code.finish() }; d.getElementsByTagName('head')[0].appendChild(n) } }, getSettings: function () { try { var e = stT.getItem(cK); if (!e) { return } e = JSON.parse(e); if (Date.now() > e.e) { stT.removeItem(cK); return } return e.s } catch (e) { return } }, init: function () { if (d.URL.indexOf('__vwo_disable__') > -1) return; var e = this.settings_tolerance(); w._vwo_settings_timer = setTimeout(function () { _vwo_code.finish(); stT.removeItem(cK) }, e); var t = d.currentScript, n = d.createElement('style'), i = this.hide_element(), r = t && !t.async && i ? i + this.hide_element_style() : '', c = d.getElementsByTagName('head')[0]; n.setAttribute('id', '_vis_opt_path_hides'); v && n.setAttribute('nonce', v.nonce); n.setAttribute('type', 'text/css'); if (n.styleSheet) n.styleSheet.cssText = r; else n.appendChild(d.createTextNode(r)); c.appendChild(n); this.load('https://dev.visualwebsiteoptimizer.com/j.php?a=' + account_id + '&u=' + encodeURIComponent(d.URL) + '&vn=' + version) } }; w._vwo_code = code; code.init();
        })();
    </script>
    <!-- VWO integration ends here -->
</head>

<body>
    <h1>What is your favorite place to travel?</h1>
    <p>I am building a directory of the sweetest travel destinations.</p>
    <form name="travel" onsubmit="identify(event)">
        What is your favorite travel destination?
        <input name="destination" required="" size="81" type="text" />
        <br><br><br>
        Any recommendations (cool things to do, places to visit or restaurants to eat)?
        <br><br>
        <textarea cols="81" name="details" required="" rows="10">
    </textarea>
        <br><br>
        Name: <input name="fullname" required="" size="75" type="text" />
        <br><br>
        Email: <input name="email" required="" size="75" type="email" />
        <br><br>
        Phone: <input name="phone" required="" size="75" type="tel" />
        <br><br>
        <input name="submit" type="submit" value="submit" />
    </form>

    <!--Placeholder for identify and track script -->

</body>

</html>

<!--Placeholder for identify and track script -->


<script type="text/javascript">

    const randomId = function (length = 10) {
        return Math.random().toString(36).substring(2, length + 2);
    };

    const getId = function ({ length, existing = [] }) {
        const limit = 100; // max tries to create unique id
        let attempts = 0; // how many attempts
        let id = false;
        while (!id && attempts < limit) {
            id = randomId(length); // create id
            if (!checkId(id, existing)) { // check unique
                id = false; // reset id
                attempts++; // record failed attempt
            }
        }
        return id; // the id or false if did not get unique after max attempts
    };

    let newId = randomId(10)

    function identify(e) {
        e.preventDefault();
        var form = e.target;
        var email = form["email"].value;
        var fullname = form["fullname"].value;
        var destination = form["destination"].value;
        var details = form["details"].value;
        var phone = form["phone"].value
        var user = {
            email: email,
            name: fullname,
            phone: phone,
            destination: destination,
            details: details
        };
        analytics.identify(newId, {
            email: email,
            name: fullname,
            phone: phone
        });
        analytics.track('destination submitted', user, function () {
            window.location.href = "";
        });
    }
</script>

</body>

</html>